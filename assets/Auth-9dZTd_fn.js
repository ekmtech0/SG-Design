import{_ as p}from"./Logo web-ECiLurst.js";import{b as f,c as m,o as u,e as o,u as x,r as b,a as h,d as w,j as c,p as y}from"./index-Ce4PS0vF.js";import{a as d}from"./Request-CeOy3zXL.js";const k="353535077307-nqv0s4rge8nh5d3a9eklcoacdijk61hf.apps.googleusercontent.com",v={__name:"GoogleComponentTest",setup(i){async function n(s){const a=s?.credential;console.log("ID Token:",a);try{var t=await d.post("/google?IdToken="+a);console.log("Resposta do backend:",t.data.accessToken),localStorage.setItem("accessToken",t.data.accessToken)}catch(l){console.error("Erro no login:",l)}window.location.reload()}function r(){return new Promise((s,a)=>{if(document.getElementById("google-identity-services")){s();return}const t=document.createElement("script");t.src="https://accounts.google.com/gsi/client",t.id="google-identity-services",t.async=!0,t.defer=!0,t.onload=s,t.onerror=a,document.head.appendChild(t)})}return f(async()=>{await r(),window.google.accounts.id.initialize({client_id:k,callback:n}),window.google.accounts.id.renderButton(document.getElementById("g_id_signin"),{theme:"outline",size:"large"}),window.google.accounts.id.prompt()}),(s,a)=>(u(),m("div",null,[...a[0]||(a[0]=[o("div",{id:"g_id_signin"},null,-1)])]))}},T={class:"pt-20 px-4 md:px-8 lg:px-16 border-t-preto2 border-b-preto2 flex justify-center items-center min-h-screen"},_={class:"bg-preto2 rounded-2xl p-6 md:p-10 w-full max-w-sm sm:max-w-md lg:max-w-lg flex flex-col items-center text-gray-400 shadow-lg"},I={class:"flex flex-col sm:flex-row items-center justify-center gap-3 sm:gap-4 mt-4 w-full"},S={class:"text-center text-xs text-gray-500 mt-6 px-4 leading-relaxed"},L={__name:"LoginPage",emits:["openRegister","closeLogin"],setup(i,{emit:n}){const r=x(),s=n;function a(l){r.push(l)}function t(){s("openRegister")}return b(!1),(l,e)=>(u(),m("section",T,[o("div",_,[e[7]||(e[7]=h('<div class="text-center flex flex-col items-center pt-2"><img src="'+p+'" alt="Logo SG Design" class="h-8 sm:h-10"><h2 class="text-sm sm:text-base text-gray-400 mt-2">Bem-vindo de volta ðŸ‘‹</h2></div><form action="" class="w-full mt-6 space-y-4"><div><label for="email" class="block text-sm font-medium text-gray-200 mb-1">Email</label><input type="email" id="email" placeholder="Digite seu email" class="w-full px-3 py-2 bg-preto2 border border-gray-600 rounded-xl text-gray-200 focus:outline-none focus:ring-2 focus:ring-amarelo focus:border-amarelo transition"></div><div><label for="password" class="block text-sm font-medium text-gray-200 mb-1">Senha</label><input type="password" id="password" placeholder="Digite sua senha" class="w-full px-3 py-2 bg-preto2 border border-gray-600 rounded-xl text-gray-200 focus:outline-none focus:ring-2 focus:ring-amarelo focus:border-amarelo transition"></div><div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 sm:gap-0 mt-2"><label class="flex items-center space-x-2 text-sm"><input type="checkbox" class="accent-amarelo"><span>Lembrar-me</span></label><a href="#" class="text-sm text-amarelo hover:underline">Esqueceu sua senha?</a></div><button type="submit" class="w-full bg-amarelo text-preto font-semibold py-2 px-4 rounded-md hover:bg-yellow-600 transition-colors duration-300 mt-4"> Entrar </button></form><div class="flex items-center justify-center space-x-3 mt-6 w-full"><div class="w-1/5 border-t border-gray-700"></div><p class="text-gray-500 text-sm whitespace-nowrap">ou entra com</p><div class="w-1/5 border-t border-gray-700"></div></div>',3)),o("div",I,[w(v),e[2]||(e[2]=o("button",{class:"flex items-center justify-center gap-2 border border-gray-700 px-4 py-2 rounded-xl w-full sm:w-auto hover:bg-[#2a2a2a] transition-all"},[o("img",{src:"https://www.svgrepo.com/show/475647/facebook-color.svg",alt:"Facebook",class:"w-5 h-5"}),o("span",{class:"text-sm font-medium"},"Facebook")],-1))]),o("p",S,[e[3]||(e[3]=c(" Ao entrar, concordas com os ",-1)),o("a",{class:"text-amarelo hover:underline cursor-pointer",onClick:e[0]||(e[0]=g=>a("/TermosUso"))},"Termos de Uso"),e[4]||(e[4]=c(" e a ",-1)),o("a",{class:"text-amarelo hover:underline cursor-pointer",onClick:e[1]||(e[1]=g=>a("/PoliticaPrivacidade"))},"PolÃ­tica de Privacidade"),e[5]||(e[5]=c(". ",-1))]),o("p",{class:"text-center text-sm text-gray-400 mt-4"},[e[6]||(e[6]=c(" Ainda nÃ£o tens conta? ",-1)),o("a",{class:"text-yellow-400 hover:underline font-medium",onClick:t},"Criar conta")])])]))}},B=y("auth",{state:()=>({isLogged:!1,userData:null,token:"",checked:!1}),actions:{async checkAuth(){if(!this.checked){this.checked=!0;try{let i=localStorage.getItem("accessToken");i&&(this.token=i,console.log("Usando token existente:",i));const n=async r=>(await d.get("/getMe",{headers:{Authorization:`Bearer ${r}`}})).data;try{this.userData=await n(this.token),this.isLogged=!0;return}catch(r){if(r.response&&r.response.status===401){console.log("Token expirado, pedindo novo...");const s=await d.get("/tokens/acessToken");this.token=s.data.accessToken,localStorage.setItem("accessToken",this.token),this.userData=await n(this.token),this.isLogged=!0}else throw r}}catch{this.userData=null,this.isLogged=!1,this.token="",localStorage.removeItem("accessToken"),console.log("UsuÃ¡rio nÃ£o autenticado")}}}}});export{L as _,B as u};
